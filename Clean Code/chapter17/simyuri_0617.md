## Chapter 17. 냄새와 휴리스틱

**주석**

- 부적절한 정보: 일반적으로 작성자, 최종 수정일, SPR(Software Problem Report) 번호 등과 같은 메타 정보만 주석으로 넣는다.
- 쓸모없는 주석: 오래된 주석, 엉뚱한 주석, 잘못된 주석
- 중복된 주석: 코드만으로 충분하다.
- 성의 없는 주석: 간단 명료하게 작성하자.
- 주석 처리된 코드: 필요하면 소스 코드 관리 시스템이 기억한다.



**환경**

- 여러 단계로 빌드해야 한다: 빌드는 간단히 한 단계로 끝나야 한다.
- 여러 단계로 테스트해야 한다: 모든 단위 테스트는 한 명령으로 돌려야 한다.



**함수**

- 너무 많은 인수: 함수에서 인수 개수는 작을수록 좋다.
- 출력 인수: 출력 인수는 직관을 정면으로 위배한다.
- 플래그 인수: boolean 인수는 함수가 여러 기능을 수행한다는 증거다.
- 죽은 함수: 아무도 호출하지 않는 함수는 삭제한다.



**일반**

- 한 소스 파일에 여러 언어를 사용한다: 이상적으로는 소스 파일 하나에 언어 하나만 사용하는 방식이 가장 좋다.
- 경계를 올바로 처리하지 않는다: 코드는 올바로 동작해야 한다.
- 안전 절차 무시
- 중복: 코드에서 중복을 발견할 때마다 추상화할 기회로 간주하라. 중복을 발견하면 없애라.
- 추상화 수준이 올바르지 못하다: 추상화는 저차원 상세 개념에서 고차원 일반 개념을 분리한다. 모든 저차원 개념은 파생 클래스에 넣고, 모든 고차원 개념은 기초 클래스에 넣는다.
- 기초 클래스가 파생 클래스에 의존한다: 개념을 기초 클래스와 파생 클래스로 나누는 가장 흔한 이유는 고차원 기초 클래스 개념을 저차원 파생 클래스 개념으로부터 분리해 독립성을 보장하기 위해서다.
- 과도한 정보: 잘 정의된 인터페이스는 많은 함수를 제공하지 않는다. 그래서 결합도가 낮다.
- 죽은 코드
- 수직 분리: 변수와 함수는 사용되는 위치에 가깝게 정의한다. 비공개 함수는 처음으로 호출한 작후에 정의한다.
- 일관성 부족
- 잡동사니: 비어있는 기본 생성자는 필요없다.
- 인위적 결합: 서로 무관한 개념을 인위적으로 결합하지 않는다. 
- 기능 욕심
- 선택자 인수: 인수 호출 끝에 달리는 false 인수만큼이나 밉살스런 코드도 없다.
- 모호한 의도
- 잘못 지운 책임: 코드는 독자가 자연스럽게 기대할 위치에 배치한다.
- 부적절한 static 함수
- 서술적 변수
- 이름과 기능이 일치하는 함수
- 알고리즘을 이해하라
- 논리적 의존성은 물리적으로 드러내라

- If/Else 혹은 Switch/Case 문보다 다형성을 사용하라
- 표준 표기법을 따르라
- 매직 숫자는 명명된 상수로 교체하라
- 정확하라
- 관례보다 구조를 사용하라
- 조건을 캡슐화하라
- 부정 조건은 피하라
- 함수는 한 가지만 해야 한다
- 숨겨진 시간적인 결합
- 일관성을 유지하라
- 경계 조건을 캡슐화하라
- 함수는 추상화 수준을 한 단계만 내려가야 한다: 함수 내 모든 문장은 추상화 수준이 동일해야 한다.
- 설정 정보는 최상위 단계에 둬라
- 추이적 탐색을 피하라: 일반적으로 한 모듈은 주변 모듈을 모를수록 좋다.



**자바**

- 긴 import문을 피하고 와일드카드를 사용하라
- 상수는 상속하지 않는다
- 상수 대 Enum: enum을 마음껏 사용하라



**이름**

- 서술적인 이름을 사용하라
- 적절한 추상화 수준에서 이름을 선택하라
- 가능하다면 표준 명명법을 사용하라
- 명확한 이름
- 긴 범위는 긴 이름을 사용하라
- 인코딩을 피하라: 이름에 유형 정보나 범위 정보를 넣어서는 안 된다.

- 이름으로 부수 효과를 설명하라



**테스트**

- 불충분한 테스트
- 커버리지 도구를 사용하라!
- 사소한 테스트를 건너뛰지 마라
- 무시한 테스트는 모호함을 뜻한다
- 경계 조건을 테스트하라
- 버그 주변은 철저히 테스트하라
- 실패 패턴을 살펴라
- 테스트 커버리지 패턴을 살펴라
- 테스트는 빨라야 한다
